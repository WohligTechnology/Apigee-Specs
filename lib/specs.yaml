swagger: "2.0"
info:
  title: Hotel Booking API
  version: "1.0"
  description: Hotel booking and management
host: example.com
paths:
  /bookings:
    delete:
      responses:
        "200":
          description: Request is Accepted but the state of the booking is unknown
          schema:
            type: object
            properties:
              status:
                type: string
              bookingId:
                type: string
        "400":
          description: ""
        "401":
          description: Unauthorized access
        "404":
          description: Room not found
      summary: Cancel booking
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: body
          name: body
          schema:
            type: object
            properties:
              room:
                type: string
              bookingNumber:
                type: string
              reason:
                type: string
            required:
              - room
              - bookingNumber
              - reason
      security:
        - booking-auth:
            - "write:bookings"
    post:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties:
              bookings:
                type: object
                properties:
                  bookingID:
                    type: string
                  hotelId:
                    type: string
                  rooms:
                    type: array
                    items:
                      type: string
                  user:
                    type: object
                    properties:
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      phone:
                        type: string
                      address:
                        type: object
                        properties:
                          line_1:
                            type: string
                          line_2:
                            type: string
                          line_3:
                            type: string
                          city:
                            type: string
                          state:
                            type: string
                          postalCode:
                            type: string
                          countryCode:
                            type: string
                  createdAt:
                    type: string
                  checkIn:
                    type: string
                  checkOut:
                    type: string
                  guestList:
                    type: array
                    items:
                      type: object
                      properties:
                        firstName:
                          type: string
                        lastName:
                          type: string
                        age:
                          type: string
                        gender:
                          type: string
                  paymentDetails:
                    type: object
                    properties:
                      mode:
                        type: string
                      amount:
                        type: number
                      transactionId:
                        type: string
                  noOfAdults:
                    type: number
                  noOfChildren:
                    type: string
                  status:
                    type: string
                  "":
                    type: string
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: object
            properties:
              bookingId:
                type: string
              message:
                type: string
        "404":
          description: ""
      summary: Add Bookings
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: body
          name: body
          schema:
            type: object
            properties:
              checkIn:
                type: string
              checkOut:
                type: string
              noOfRooms:
                type: number
              adults:
                type: number
              children:
                type: number
              city:
                type: string
              state:
                type: string
              country:
                type: string
              hotelId:
                type: string
              user:
                type: object
                properties:
                  email:
                    type: string
                  firstName:
                    type: string
                  phoneNo:
                    type: string
                  lastName:
                    type: string
                  address:
                    type: string
                  city:
                    type: string
                  state:
                    type: string
                  postalCode:
                    type: string
                  countryCode:
                    type: string
              paymentDetails:
                type: array
                items:
                  type: object
                  properties:
                    mode:
                      type: string
                    amount:
                      type: string
              specialRequests:
                type: string
              roomId:
                type: string
      security:
        - booking-auth:
            - "write:bookings"
    get:
      responses:
        "200":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: object
            items:
              type: object
              properties:
                bookingID:
                  type: string
                hotelId:
                  type: string
                rooms:
                  type: array
                  items:
                    type: string
                user:
                  type: object
                  properties:
                    firstName:
                      type: string
                    lastName:
                      type: string
                    email:
                      type: string
                    phone:
                      type: string
                    address:
                      type: object
                      properties:
                        line_1:
                          type: string
                        line_2:
                          type: string
                        line_3:
                          type: string
                        city:
                          type: string
                        state:
                          type: string
                        postalCode:
                          type: string
                        countryCode:
                          type: string
                createdAt:
                  type: string
                checkIn:
                  type: string
                checkOut:
                  type: string
                guestList:
                  type: array
                  items:
                    type: object
                    properties:
                      firstName:
                        type: string
                      lastName:
                        type: string
                      age:
                        type: string
                      gender:
                        type: string
                paymentDetails:
                  type: object
                  properties:
                    mode:
                      type: string
                    amount:
                      type: number
                    transactionId:
                      type: string
                noOfAdults:
                  type: number
                noOfChildren:
                  type: string
                status:
                  type: string
        "404":
          description: ""
      summary: Get list of booking
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: body
          name: body
          schema: {}
      security:
        - booking-auth:
            - "write:bookings"
  /bookings/search:
    post:
      responses:
        "200":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: object
            properties:
              type:
                type: string
              message:
                type: string
        default:
          description: ""
      summary: Get all Bookings
      x-private: true
      produces:
        - application/json
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: body
          name: body
          schema:
            type: object
            properties:
              fromData:
                type: string
              toDate:
                type: string
              occupancy:
                type: number
              location:
                type: string
      security:
        - booking-auth:
            - "view:bookings"
  /my-bookings/:
    get:
      responses:
        "200":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
      summary: Get all Bookings of user
      parameters:
        - in: header
          name: accessToken
          type: string
      security:
        - booking-auth:
            - "view:bookings"
  "/bookings/{booking-id}":
    get:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties:
              bookings:
                type: object
                properties:
                  bookingID:
                    type: string
                  hotelId:
                    type: string
                  rooms:
                    type: array
                    items:
                      type: string
                  user:
                    type: object
                    properties:
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      phone:
                        type: string
                      address:
                        type: object
                        properties:
                          line_1:
                            type: string
                          line_2:
                            type: string
                          line_3:
                            type: string
                          city:
                            type: string
                          state:
                            type: string
                          postalCode:
                            type: string
                          countryCode:
                            type: string
                  createdAt:
                    type: string
                  checkIn:
                    type: string
                  checkOut:
                    type: string
                  guestList:
                    type: array
                    items:
                      type: object
                      properties:
                        firstName:
                          type: string
                        lastName:
                          type: string
                        age:
                          type: string
                        gender:
                          type: string
                  paymentDetails:
                    type: object
                    properties:
                      mode:
                        type: string
                      amount:
                        type: number
                      transactionId:
                        type: string
                  noOfAdults:
                    type: number
                  noOfChildren:
                    type: string
                  status:
                    type: string
                  "":
                    type: string
        "400":
          description: ""
        "401":
          description: ""
          schema: {}
      summary: Get one booking detail
      parameters:
        - in: path
          name: booking-id
          type: string
          required: true
        - in: header
          name: accessToken
          type: string
      security:
        - booking-auth:
            - "view:bookings"
    put:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties:
              bookings:
                type: object
                properties:
                  bookingID:
                    type: string
                  hotelId:
                    type: string
                  rooms:
                    type: array
                    items:
                      type: string
                  user:
                    type: object
                    properties:
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      phone:
                        type: string
                      address:
                        type: object
                        properties:
                          line_1:
                            type: string
                          line_2:
                            type: string
                          line_3:
                            type: string
                          city:
                            type: string
                          state:
                            type: string
                          postalCode:
                            type: string
                          countryCode:
                            type: string
                  createdAt:
                    type: string
                  checkIn:
                    type: string
                  checkOut:
                    type: string
                  guestList:
                    type: array
                    items:
                      type: object
                      properties:
                        firstName:
                          type: string
                        lastName:
                          type: string
                        age:
                          type: string
                        gender:
                          type: string
                  paymentDetails:
                    type: object
                    properties:
                      mode:
                        type: string
                      amount:
                        type: number
                      transactionId:
                        type: string
                  noOfAdults:
                    type: number
                  noOfChildren:
                    type: string
                  status:
                    type: string
                  "":
                    type: string
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: object
            properties:
              bookings:
                type: object
                properties:
                  bookingID:
                    type: string
                  hotelId:
                    type: string
                  rooms:
                    type: array
                    items:
                      type: string
                  user:
                    type: object
                    properties:
                      firstName:
                        type: string
                      lastName:
                        type: string
                      email:
                        type: string
                      phone:
                        type: string
                      address:
                        type: object
                        properties:
                          line_1:
                            type: string
                          line_2:
                            type: string
                          line_3:
                            type: string
                          city:
                            type: string
                          state:
                            type: string
                          postalCode:
                            type: string
                          countryCode:
                            type: string
                  createdAt:
                    type: string
                  checkIn:
                    type: string
                  checkOut:
                    type: string
                  guestList:
                    type: array
                    items:
                      type: object
                      properties:
                        firstName:
                          type: string
                        lastName:
                          type: string
                        age:
                          type: string
                        gender:
                          type: string
                  paymentDetails:
                    type: object
                    properties:
                      mode:
                        type: string
                      amount:
                        type: number
                      transactionId:
                        type: string
                  noOfAdults:
                    type: number
                  noOfChildren:
                    type: string
                  status:
                    type: string
                  "":
                    type: string
      summary: Update one booking
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: path
          name: booking-id
          type: string
          required: true
      security:
        - booking-auth:
            - "write:bookings"
    delete:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties: {}
        "400":
          description: ""
        "401":
          description: ""
          schema: {}
      summary: Delete one booking
      parameters:
        - in: header
          name: accessToken
          type: string
        - in: path
          name: booking-id
          type: string
          required: true
      security:
        - booking-auth:
            - "write:bookings"
  /my-bookings/last/:
    get:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties: {}
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
      summary: Get previous bookings of user
      parameters:
        - in: header
          name: accessToken
          type: string
      security:
        - booking-auth:
            - "view:bookings"
  /my-bookings/next/:
    get:
      responses:
        "200":
          description: ""
          schema:
            type: object
            properties: {}
        "400":
          description: ""
        "401":
          description: ""
          schema:
            type: array
            items:
              type: object
              properties:
                bookings:
                  type: array
                  items:
                    type: object
                    properties:
                      bookingID:
                        type: string
                      hotelId:
                        type: string
                      rooms:
                        type: array
                        items:
                          type: string
                      user:
                        type: object
                        properties:
                          firstName:
                            type: string
                          lastName:
                            type: string
                          email:
                            type: string
                          phone:
                            type: string
                          address:
                            type: object
                            properties:
                              line_1:
                                type: string
                              line_2:
                                type: string
                              line_3:
                                type: string
                              city:
                                type: string
                              state:
                                type: string
                              postalCode:
                                type: string
                              countryCode:
                                type: string
                      createdAt:
                        type: string
                      checkIn:
                        type: string
                      checkOut:
                        type: string
                      guestList:
                        type: array
                        items:
                          type: object
                          properties:
                            firstName:
                              type: string
                            lastName:
                              type: string
                            age:
                              type: string
                            gender:
                              type: string
                      paymentDetails:
                        type: object
                        properties:
                          mode:
                            type: string
                          amount:
                            type: number
                          transactionId:
                            type: string
                      noOfAdults:
                        type: number
                      noOfChildren:
                        type: string
                      status:
                        type: string
                totalCount:
                  type: number
      summary: Get upcoming bookings of user
      parameters:
        - in: header
          name: accessToken
          type: string
      security:
        - booking-auth:
            - "view:bookings"
schemes:
  - http
  - https
definitions:
  Booking:
    type: object
    properties:
      checkIn:
        type: string
      checkOut:
        type: string
      noOfRooms:
        type: number
      adults:
        type: number
      children:
        type: number
      city:
        type: string
      state:
        type: string
      country:
        type: string
      hotelId:
        type: string
      roomType:
        type: string
      user:
        type: object
        properties:
          email:
            type: string
          firstName:
            type: string
          phoneNo:
            type: string
          lastName:
            type: string
          address:
            type: string
          city:
            type: string
          state:
            type: string
          postalCode:
            type: string
          countryCode:
            type: string
      roomDetails:
        type: array
        items:
          type: string
      paymentDetails:
        type: array
        items:
          type: object
          properties:
            mode:
              type: string
            cardType:
              type: string
            cardNumber:
              type: string
            cardYear:
              type: string
            cardExpiryMonth:
              type: string
            cardExpiryYear:
              type: string
            amount:
              type: string
      specialRequests:
        type: string
  Hotel:
    type: object
    properties:
      hotelDetail:
        type: array
        items:
          type: object
          properties:
            address:
              type: string
            checkIntime:
              type: string
            checkOutTime:
              type: string
            cityCode:
              type: string
            country:
              type: string
            email:
              type: string
            facilities:
              type: object
              properties:
                Dining:
                  type: array
                  items:
                    type: string
                Front desk / Reception services:
                  type: array
                  items:
                    type: string
                Pool:
                  type: array
                  items:
                    type: string
                Spa & wellness:
                  type: array
                  items:
                    type: string
                General:
                  type: array
                  items:
                    type: string
                Miscellaneous:
                  type: array
                  items:
                    type: string
            id:
              type: string
            mobile:
              type: string
            name:
              type: string
            pinCode:
              type: string
            starRating:
              type: integer
            state:
              type: string
            hotelCityCode:
              type: string
            cityName:
              type: string
            freeWifi:
              type: boolean
            shortDescription:
              type: string
            longDescription:
              type: string
            primaryCity:
              type: string
            gdsHotelCode:
              type: string
            users:
              type: object
              properties:
                hotel:
                  type: array
                  items:
                    type: object
                    properties:
                      email:
                        type: string
                      name:
                        type: string
                      mobile:
                        type: string
            ratings:
              type: object
              properties:
                RoomQuality:
                  type: object
                  properties:
                    sub_title:
                      type: string
                    title:
                      type: string
                FoodQuality:
                  type: object
                  properties:
                    sub_title:
                      type: string
                    title:
                      type: string
                ServiceQuality:
                  type: object
                  properties:
                    sub_title:
                      type: string
                    title:
                      type: string
            lat:
              type: number
            lng:
              type: number
  new-model:
    type: object
    properties:
      email:
        type: string
      firstName:
        type: string
      phoneNo:
        type: string
      lastName:
        type: string
      address:
        type: string
      city:
        type: string
      state:
        type: string
      postalCode:
        type: string
      countryCode:
        type: string
    title: User
securityDefinitions:
  booking-auth:
    type: oauth2
    flow: application
    tokenUrl: "https://jagrutishah-eval-test.apigee.net/auth2"
    scopes:
      "view:bookings": view scope
      "write:bookings": write scope
